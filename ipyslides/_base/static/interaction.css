/* PDF printing styles, experimental */
@media print {
    body *:not(.ipyslides-print-node):not(.ipyslides-print-node.SlidesWrapper *) {
        display: none !important;
    }


    * {
        --contentScale : 1 !important; /* Defualt for printing at same value */
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color-adjust: exact !important;
        ::-webkit-scrollbar { height: 0 !important; width: 0 !important; }
    }

    /* Page size is set dynamically via @page in styles.py */

    .ipyslides-print-node:not(.SlidesWrapper) {
        all: unset !important;
        display: block !important;
        margin: none !important;
        padding: none !important;
    }
    .ipyslides-print-node .jupyter-only {
        display: none !important;
    }
    .ipyslides-print-node.SlidesWrapper.SlidesWrapper {
        display: table !important; /* Manages auto height for multiple slides */
        --contnetScale : 1 !important; /* Defualt for printing at same value */
    }
    .ipyslides-print-node.SlidesWrapper > *:not(.SlideBox):not(.LogoHtml) { 
        visibility: hidden !important;
    }
    .ipyslides-print-node.SlidesWrapper > .NavWrapper .Footer { 
        visibility: visible !important; /* keep footer visible but main nav hidden*/
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox {
        display: flex !important;
        flex-direction: column !important;
        flex: 0 0 auto !important;   /* size to content; don't grow/shrink */
        height: auto !important;     /* expand to fit all slides */
        width: 100% !important;
        overflow: hidden !important;
        min-height: max-content !important;
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea {
        position:  relative !important; /* to hold background image */
        visibility: visible !important;
        transform: none !important;
        /* height: auto !important;  */
        page-break-inside: avoid !important; /* avoid for slides printing */
        page-break-after: always !important;
        --paddingBottom: 23px !important; /* to avoid cutting off text with huge padding */
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea.SlideArea {
        background: var(--bg1-color) !important; /* user can set bg color per slide */
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea:last-of-type  {
        page-break-after: avoid !important;
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea:first-of-type  {
        page-break-before: avoid !important;
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea:not(.n0) {
        --bar-bg-color: transparent; /* set with JS */
        --slide-number: 0; /* set with JS */
    }
    /* Ensure clones also respect overflow */
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea.print-only {
        overflow: hidden !important;
        box-sizing: border-box !important;
        padding-bottom: var(--paddingBottom, 23px) !important;
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea:not(.n0)::after {
        counter-reset: snum var(--slide-number); /* important to pick from CSS variable */
        content: counter(snum) !important;    
        position: absolute !important;
        bottom: 3px !important; /* 1px above the bar */
        right: 6px !important;
        color: var(--fg2-color) !important;
        font-size: 12px !important;
        z-index: 10 !important;
    }
    .ipyslides-print-node.SlidesWrapper .SlideBox .SlideArea:not(.n0)::before {
        content: '';
        position: absolute !important;
        display: block !important;
        bottom: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 2px !important;
        background: var(--bar-bg-color) !important;
        z-index: 9 !important;
    }
}